<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Contact Us - Damodar Traders</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  <link rel="stylesheet" href="style1.css">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      line-height: 1.6;
      color: #333;
      background-color: #f9f9f9;
    }
    
    .main {
      padding: 0 5%;
      max-width: 1200px;
      margin: 0 auto;
    }
    
    .contact-hero {
      text-align: center;
      padding: 60px 0 40px;
    }
    
    .contact-hero h1 {
      font-size: 2.8rem;
      margin-bottom: 20px;
      color: #222;
    }
    
    .contact-hero p {
      color: #666;
      max-width: 700px;
      margin: 0 auto;
      font-size: 1.1rem;
    }
    
    .contact-container {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 50px;
      padding: 40px 0;
    }
    
    .contact-info {
      background: white;
      padding: 40px;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    }
    
    .contact-info h2 {
      font-size: 1.8rem;
      color: #2a5f8a;
      margin-bottom: 30px;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }
    
    .contact-details {
      margin-bottom: 40px;
    }
    
    .contact-item {
      display: flex;
      align-items: flex-start;
      margin-bottom: 25px;
    }
    
    .contact-item i {
      font-size: 1.3rem;
      color: #2a5f8a;
      margin-right: 15px;
      margin-top: 5px;
      min-width: 25px;
    }
    
    .contact-item h4 {
      font-size: 1.1rem;
      margin-bottom: 5px;
      color: #333;
    }
    
    .contact-item p {
      color: #666;
      line-height: 1.6;
    }
    
    .business-hours {
      background: #f8f9fa;
      padding: 25px;
      border-radius: 8px;
      margin-top: 30px;
    }
    
    .business-hours h3 {
      font-size: 1.3rem;
      margin-bottom: 20px;
      color: #2a5f8a;
    }
    
    .hours-list {
      list-style: none;
    }
    
    .hours-list li {
      display: flex;
      justify-content: space-between;
      padding: 8px 0;
      border-bottom: 1px solid #eee;
    }
    
    .hours-list li:last-child {
      border-bottom: none;
    }
    
    .hours-list .day {
      font-weight: 500;
    }
    
    .hours-list .time {
      color: #666;
    }
    
    .contact-form-container {
      background: white;
      padding: 40px;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    }
    
    .contact-form-container h2 {
      font-size: 1.8rem;
      color: #2a5f8a;
      margin-bottom: 30px;
      padding-bottom: 10px;
      border-bottom: 1px solid #eee;
    }
    
    .form-group {
      margin-bottom: 20px;
    }
    
    .form-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: 500;
      color: #555;
    }
    
    .form-group input,
    .form-group textarea,
    .form-group select {
      width: 100%;
      padding: 12px 15px;
      border: 1px solid #ddd;
      border-radius: 4px;
      font-size: 1rem;
      font-family: inherit;
      transition: border 0.3s;
      box-sizing: border-box;
    }
    
    .form-group input:focus,
    .form-group textarea:focus,
    .form-group select:focus {
      outline: none;
      border-color: #2a5f8a;
    }
    
    .form-group textarea {
      min-height: 150px;
      resize: vertical;
    }
    
    .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
    }
    
    .submit-btn {
      background: #2a5f8a;
      color: white;
      border: none;
      padding: 14px 30px;
      border-radius: 4px;
      font-size: 1rem;
      font-weight: 500;
      cursor: pointer;
      transition: background 0.3s;
      width: 100%;
    }
    
    .submit-btn:hover {
      background: #1d4567;
    }
    
    .submit-btn:disabled {
      background: #ccc;
      cursor: not-allowed;
    }
    
    .message {
      padding: 15px;
      border-radius: 4px;
      margin-top: 20px;
      text-align: center;
      display: none;
    }
    
    .message.success {
      background: #d4edda;
      color: #155724;
      border: 1px solid #c3e6cb;
      display: block;
    }
    
    .message.error {
      background: #f8d7da;
      color: #721c24;
      border: 1px solid #f5c6cb;
      display: block;
    }
    
    .map-container {
      margin-top: 60px;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    }
    
    .map-container iframe {
      width: 100%;
      height: 400px;
      border: none;
    }
    
    @media (max-width: 900px) {
      .contact-container {
        grid-template-columns: 1fr;
        gap: 30px;
      }
      
      .contact-hero h1 {
        font-size: 2.2rem;
      }
    }
    
    @media (max-width: 768px) {
      .contact-info,
      .contact-form-container {
        padding: 25px;
      }
      
      .form-row {
        grid-template-columns: 1fr;
        gap: 0;
      }
      
      .contact-hero h1 {
        font-size: 2rem;
      }
    }
    
    @media (max-width: 480px) {
      .contact-hero h1 {
        font-size: 1.8rem;
      }
      
      .contact-hero p {
        font-size: 1rem;
      }
      
      .map-container iframe {
        height: 300px;
      }
    }
  </style>
</head>
<body>
  <!-- Navigation -->
  <nav>
    <a href="index.html">
      <img src="./Create_a_logo_concep-removebg-preview.png" alt="Damodar Traders Logo">
    </a>
    
    <button class="mobile-menu-btn" id="mobileMenuBtn">
      <i class="fas fa-bars"></i>
    </button>
    
    <div class="nav-overlay" id="navOverlay"></div>
    
    <ul id="navMenu">
      <li><a href="index.html">Home</a></li>
      <li class="nav-product">
        <a href="categories.html">Product</a>
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M18.2197 8.546L12.2531 14.5126C12.1555 14.6102 11.9972 14.6102 11.8996 14.5126L6.02767 8.64067C5.73477 8.34778 5.2599 8.34778 4.96701 8.64067C4.67411 8.93357 4.67411 9.40844 4.96701 9.70133L10.8389 15.5732C11.5223 16.2566 12.6304 16.2566 13.3138 15.5732L19.2803 9.60666C19.5732 9.31377 19.5732 8.8389 19.2803 8.546C18.9874 8.25311 18.5126 8.25311 18.2197 8.546Z"
            fill="currentColor"></path>
        </svg>
        <div class="product-dropdown">
          <a href="categories.html">All Categories</a>
          <a href="products.html?category=pipes">Pipes</a>
          <a href="products.html?category=fittings">Fittings</a>
          <a href="products.html?category=valves">Valves</a>
          <a href="products.html?category=other">Other Products</a>
        </div>
      </li>
      <li><a href="about.html">About Us</a></li>
      <li><a href="contact.html">Contact us</a></li>
      <li><a href="login.html?type=user" id="authLink">Login</a></li>
    </ul>
    
    <div class="btn">
      <button class="btn1" id="authButton">Log in</button>
      <button class="btn1" id="registerButton" style="display: none;">Register</button>
    </div>
  </nav>

  <hr class="line">

  <div class="main">
    <div class="contact-hero">
      <h1>Contact Us</h1>
      <p>Get in touch with us for inquiries, quotes, or any assistance you need</p>
    </div>

    <div class="contact-container">
      <div class="contact-info">
        <h2>Get In Touch</h2>
        
        <div class="contact-details">
          <div class="contact-item">
            <i class="fas fa-map-marker-alt"></i>
            <div>
              <h4>Our Location</h4>
              <p>1st floor, 37 Ellora plaza, 3, Maharani Rd, Indore, Madhya Pradesh 452007</p>
            </div>
          </div>
          
          <div class="contact-item">
            <i class="fas fa-phone"></i>
            <div>
              <h4>Phone Number</h4>
              <p>+91 98765 43210<br>+91 22 1234 5678</p>
            </div>
          </div>
          
          <div class="contact-item">
            <i class="fas fa-envelope"></i>
            <div>
              <h4>Email Address</h4>
              <p>info@damodartraders.com<br>sales@damodartraders.com</p>
            </div>
          </div>
          
          <div class="contact-item">
            <i class="fas fa-clock"></i>
            <div>
              <h4>Business Hours</h4>
              <p>Monday - Friday: 9:00 AM - 6:00 PM<br>Saturday: 10:00 AM - 4:00 PM</p>
            </div>
          </div>
        </div>
        
        <div class="business-hours">
          <h3>Detailed Business Hours</h3>
          <ul class="hours-list">
            <li><span class="day">Monday</span><span class="time">9:00 AM - 6:00 PM</span></li>
            <li><span class="day">Tuesday</span><span class="time">9:00 AM - 6:00 PM</span></li>
            <li><span class="day">Wednesday</span><span class="time">9:00 AM - 6:00 PM</span></li>
            <li><span class="day">Thursday</span><span class="time">9:00 AM - 6:00 PM</span></li>
            <li><span class="day">Friday</span><span class="time">9:00 AM - 6:00 PM</span></li>
            <li><span class="day">Saturday</span><span class="time">10:00 AM - 4:00 PM</span></li>
            <li><span class="day">Sunday</span><span class="time">Closed</span></li>
          </ul>
        </div>
      </div>
      
      <div class="contact-form-container">
        <h2>Send Us a Message</h2>
        <form id="contactForm">
          <div class="form-row">
            <div class="form-group">
              <label for="name">Full Name *</label>
              <input type="text" id="name" name="name" required>
            </div>
            
            <div class="form-group">
              <label for="email">Email Address *</label>
              <input type="email" id="email" name="email" required>
            </div>
          </div>
          
          <div class="form-row">
            <div class="form-group">
              <label for="phone">Phone Number *</label>
              <input type="tel" id="phone" name="phone" required>
            </div>
            
            <div class="form-group">
              <label for="subject">Subject *</label>
              <select id="subject" name="subject" required>
                <option value="">Select a subject</option>
                <option value="product_inquiry">Product Inquiry</option>
                <option value="quote_request">Quote Request</option>
                <option value="technical_support">Technical Support</option>
                <option value="general_question">General Question</option>
                <option value="complaint">Complaint</option>
                <option value="other">Other</option>
              </select>
            </div>
          </div>
          
          <div class="form-group">
            <label for="message">Your Message *</label>
            <textarea id="message" name="message" required></textarea>
          </div>
          
          <button type="submit" class="submit-btn" id="submitBtn">Send Message</button>
          
          <div id="messageContainer" class="message"></div>
        </form>
      </div>
    </div>
    
    <div class="map-container">
      <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3679.223583988378!2d75.8641808!3d22.7167381!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3962fd11bc280595%3A0xffd5a99f38fa3a02!2sDamodar%20Traders!5e0!3m2!1sen!2sin!4v1646812345678!5m2!1sen!2sin" allowfullscreen="" loading="lazy"></iframe>
    </div>
  </div>

  <script>
    const API_BASE_URL = 'https://dttt-5.onrender.com/api';
    
    // Mobile menu toggle
    const mobileMenuBtn = document.getElementById('mobileMenuBtn');
    const navMenu = document.getElementById('navMenu');
    const navOverlay = document.getElementById('navOverlay');

    mobileMenuBtn.addEventListener('click', () => {
      navMenu.classList.toggle('active');
      navOverlay.classList.toggle('active');
    });

    navOverlay.addEventListener('click', () => {
      navMenu.classList.remove('active');
      navOverlay.classList.remove('active');
    });

    // Toggle product dropdown on mobile
    const navProducts = document.querySelectorAll('.nav-product');
    navProducts.forEach(item => {
      item.addEventListener('click', (e) => {
        if (window.innerWidth <= 768) {
          e.preventDefault();
          item.classList.toggle('active');
        }
      });
    });

    // Check user authentication status
    async function checkAuthStatus() {
      try {
        const response = await fetch(`${API_BASE_URL}/auth/status`);
        const data = await response.json();
        
        const authButton = document.getElementById('authButton');
        const registerButton = document.getElementById('registerButton');
        const authLink = document.getElementById('authLink');
        
        if (data.authenticated) {
          authButton.textContent = 'My Account';
          authButton.onclick = () => window.location.href = 'account.html';
          authLink.textContent = 'My Account';
          authLink.href = 'account.html';
          registerButton.style.display = 'none';
        } else {
          authButton.textContent = 'Log in';
          authButton.onclick = () => window.location.href = 'login.html?type=user';
          authLink.textContent = 'Login';
          authLink.href = 'login.html?type=user';
          registerButton.style.display = 'inline-block';
          registerButton.onclick = () => window.location.href = 'register.html';
        }
      } catch (err) {
        console.error('Auth check failed:', err);
      }
    }

    // Contact form submission
    document.getElementById('contactForm').addEventListener('submit', async function(e) {
      e.preventDefault();
      
      const submitBtn = document.getElementById('submitBtn');
      const messageContainer = document.getElementById('messageContainer');
      const formData = new FormData(this);
      
      // Disable submit button and show loading
      submitBtn.disabled = true;
      submitBtn.textContent = 'Sending...';
      messageContainer.className = 'message';
      messageContainer.textContent = '';
      messageContainer.style.display = 'none';
      
      try {
        // Get user ID if logged in
        let userId = null;
        try {
          const authResponse = await fetch(`${API_BASE_URL}/auth/status`);
          const authData = await authResponse.json();
          if (authData.authenticated) {
            userId = authData.user.id;
          }
        } catch (authErr) {
          console.log('Not logged in or auth check failed');
        }
        
        const response = await fetch(`${API_BASE_URL}/inquiries`, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({
            name: formData.get('name'),
            email: formData.get('email'),
            phone: formData.get('phone'),
            subject: formData.get('subject'),
            message: formData.get('message'),
            userId: userId,
            createdAt: new Date().toISOString()
          })
        });
        
        if (response.ok) {
          messageContainer.className = 'message success';
          messageContainer.textContent = 'Thank you! Your message has been sent successfully. We will get back to you soon.';
          messageContainer.style.display = 'block';
          document.getElementById('contactForm').reset();
          
          // Scroll to message
          messageContainer.scrollIntoView({ behavior: 'smooth' });
        } else {
          const errorData = await response.json();
          throw new Error(errorData.error || 'Failed to send message');
        }
      } catch (error) {
        messageContainer.className = 'message error';
        messageContainer.textContent = `Error: ${error.message}. Please try again or contact us directly.`;
        messageContainer.style.display = 'block';
        
        // Scroll to message
        messageContainer.scrollIntoView({ behavior: 'smooth' });
      } finally {
        submitBtn.disabled = false;
        submitBtn.textContent = 'Send Message';
      }
    });
    
    // Call on page load
    document.addEventListener('DOMContentLoaded', checkAuthStatus);
  </script>
</body>

</html>
